## Функциональные требования

* 1.Авторизация пользователя
* 2.Управление пользователями(CRUD)
* 3.Система ролей
+  User - роль пользователя имеет доступ к просмотру товаров, редактированию корзины(добавлять / удалять товары), созданию заказазов, выставлять рейтинг товару, но не может ничего редактировать, не имеет доступа к административной панели(не может просматривать пользователей, и редактировать их)
+  Admin - роль администратора, которая позволяет ему редактировать товары и их рейтинги, описание товаров, имеет доступ к административной панели управления пользователями 
* 4.Журналирование действий пользователей(все CRUD действия пользователя) и администратора(все CRUD действия с сущностями бд)

## Список таблиц для бд
### 1.User - таблица пользователей
* Поля User:
+ id - идентификатор пользователя(тип - int, атрибут - PK)
+ name - имя пользователя(тип - varchar(50))
+ lastName - фамилия пользователя(тип - varchar(50))
+ email - фамилия пользователя(тип - varchar(50))
+ password - пароль пользователя(тип - varchar(50))
+ userRole - роль пользователя(тип - varchar(50))
### 2.Cart - таблица корзин
* Поля Cart:
+ id - идентификатор корзины(тип - int, атрибут - PK)
+ userId - идентификатор пользователя(тип - int, атрибут - FK)
### 3.CartDevice - таблица устройств корзины
* Поля CartDevice:
+ id - идентификатор устройств корзины(тип - int, атрибут - PK)
+ deviceId - идентификатор устройства(тип - int, атрибут - FK)
+ CartId - идентификатор корзины(тип - int, атрибут - FK)
### 4.Device - таблица устройств
* Поля Device:
+ id - идентификатор устройства(тип - int, атрибут PK)
+ name - название устройства(тип - varchar(128))
+ price - стоимость устройства(тип - int)
+ rateId - идентификатор рейтинга устройства(тип - int)
+ image - путь до картинки устройства устройства(тип - varchar(255))
+ deviceInfoId - идентификатор информации об устройстве(тип - int, атрибут - FK)
+ categoryId - идентификатор категории устройства(тип - varchar(50), атрибут - FK)
+ brandId - идентификатор бренда устройства(тип - varchar(50), атрибут - FK)
### 5.DeviceInfo - таблица названия/характеристик устройств
* Поля DeviceInfo:
+ id - идентификатор информации об устройстве(тип - int, атрибут - PK)
+ deviceId - идентификатор устройства(тип - int, атрибут - FK)
+ title - краткое описание устройства(тип - varchar(50))
+ description - полное описание устройства(тип - varchar(2000))
### 6.Category - таблица категорий устройств
* Поля Category:
+ id - идентификатор информации о категории(тип - int, атрибут - PK)
+ name - название категории(тип - int)
### 7.Brand - таблица брендов устройств
* Поля Brand:
+ id - идентификатор бренда(тип - int, атрибут - PK)
+ name - название бренда(тип - varchar(50))
### 8.Rate - таблица с рейтингом пользователей
* Поля Rate:
+ id - идентификатор рейтинга(тип - int, атрибут - PK)
+ userId - идентификатор пользователя(тип - int, атрибут - FK)
+ deviceId - идентификатор устройства(тип - int, атрибут - FK)
+ rate - оценка пользователя(число от 1 до 5, тип - int)
### 9.Log - таблица с логами действий пользователя
* Поля Log
+ id - идентификатор лога(тип - int, атрибут - PK)
+ userId - идентификатор пользователя(тип - int, атрибут - FK)
+ logType - тип логов(CREATE, READ, UPDATE, DELETE)(тип - varchar(50))
+ logMsg - сообщение лога(тип - varchar(128))
### 10.Order - таблица заказов
* Поля Order
+ id - идентификатор заказа(тип - int, атрибут - PK)
+ userId - идентификатор пользователя(тип - int, атрибут - FK)
+ cardNum - номер карты(тип - int)
### 11.OrderItems - таблица товаров, включённых в заказ
* Поля OrderItems
+ id - идентификатор товара, включённого в заказ(тип - int, атрибут - PK)
+ orderId - идентификатор заказа(тип - int, атрибут - FK)
+ deviceId - номер устройства(тип - int, атрибут - FK)
## Схема бд
![](Lab1.drawio.png)
